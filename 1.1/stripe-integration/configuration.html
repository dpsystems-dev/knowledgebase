<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-1.1 docs-doc-page docs-doc-id-stripe-integration/configuration" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">Configuration Guide | ABM Web Portal Documentation</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://dpsystems-dev.github.io/knowledgebase/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://dpsystems-dev.github.io/knowledgebase/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://dpsystems-dev.github.io/knowledgebase/1.1/stripe-integration/configuration"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="1.1"><meta data-rh="true" name="docusaurus_tag" content="docs-default-1.1"><meta data-rh="true" name="docsearch:version" content="1.1"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-1.1"><meta data-rh="true" property="og:title" content="Configuration Guide | ABM Web Portal Documentation"><meta data-rh="true" name="description" content="How to configure Stripe payments for the ABM Service Web Portal, including API keys, webhooks, and server settings."><meta data-rh="true" property="og:description" content="How to configure Stripe payments for the ABM Service Web Portal, including API keys, webhooks, and server settings."><link data-rh="true" rel="icon" href="/knowledgebase/img/favicon.svg"><link data-rh="true" rel="canonical" href="https://dpsystems-dev.github.io/knowledgebase/1.1/stripe-integration/configuration"><link data-rh="true" rel="alternate" href="https://dpsystems-dev.github.io/knowledgebase/1.1/stripe-integration/configuration" hreflang="en"><link data-rh="true" rel="alternate" href="https://dpsystems-dev.github.io/knowledgebase/1.1/stripe-integration/configuration" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Stripe Integration","item":"https://dpsystems-dev.github.io/knowledgebase/1.1/category/stripe-integration"},{"@type":"ListItem","position":2,"name":"Configuration Guide","item":"https://dpsystems-dev.github.io/knowledgebase/1.1/stripe-integration/configuration"}]}</script><link rel="stylesheet" href="/knowledgebase/assets/css/styles.3cdc18ff.css">
<script src="/knowledgebase/assets/js/runtime~main.0aa02276.js" defer="defer"></script>
<script src="/knowledgebase/assets/js/main.7bd993f2.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")),document.documentElement.setAttribute("data-theme-choice",t||"system")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/knowledgebase/img/logo.svg"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/knowledgebase/"><div class="navbar__logo"><img src="/knowledgebase/img/logo.svg" alt="ABM Web Portal Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/knowledgebase/img/logo.svg" alt="ABM Web Portal Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">ABM Web Portal</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/knowledgebase/1.1">Documentation</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a aria-current="page" class="navbar__link active" aria-haspopup="true" aria-expanded="false" role="button" href="/knowledgebase/1.1/stripe-integration/configuration">1.1</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/knowledgebase/">1.2</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/knowledgebase/1.1/stripe-integration/configuration">1.1</a></li></ul></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/knowledgebase/1.1"><span title="Overview" class="linkLabel_WmDU">Overview</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/knowledgebase/1.1/installation/prerequisites"><span title="Installation" class="categoryLinkLabel_W154">Installation</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/knowledgebase/1.1/getting-started/initial-setup"><span title="Getting Started" class="categoryLinkLabel_W154">Getting Started</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--active" href="/knowledgebase/1.1/category/stripe-integration"><span title="Stripe Integration" class="categoryLinkLabel_W154">Stripe Integration</span></a><button aria-label="Collapse sidebar category &#x27;Stripe Integration&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/knowledgebase/1.1/stripe-integration/user-guide"><span title="User Guide" class="linkLabel_WmDU">User Guide</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/knowledgebase/1.1/stripe-integration/configuration"><span title="Configuration Guide" class="linkLabel_WmDU">Configuration Guide</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/knowledgebase/1.1/stripe-integration/developer-access"><span title="Developer Access Guide" class="linkLabel_WmDU">Developer Access Guide</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/knowledgebase/1.1/stripe-integration/production-checklist"><span title="Production Checklist" class="linkLabel_WmDU">Production Checklist</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/knowledgebase/1.1/stripe-integration/technical-support-guide"><span title="Technical Support Guide" class="linkLabel_WmDU">Technical Support Guide</span></a></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="theme-doc-version-banner alert alert--warning margin-bottom--md" role="alert"><div>This is documentation for <!-- -->ABM Web Portal Documentation<!-- --> <b>1.1</b>, which is no longer actively maintained.</div><div class="margin-top--md">For up-to-date documentation, see the <b><a href="/knowledgebase/">latest version</a></b> (<!-- -->1.2<!-- -->).</div></div><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/knowledgebase/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/knowledgebase/1.1/category/stripe-integration"><span>Stripe Integration</span></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Configuration Guide</span></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: 1.1</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Stripe Payment Configuration Guide</h1></header>
<p>This guide explains how to configure Stripe payments for the ABM Service Web Portal. It is intended for support staff and administrators who need to set up or troubleshoot payment functionality.</p>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="table-of-contents">Table of Contents<a href="#table-of-contents" class="hash-link" aria-label="Direct link to Table of Contents" title="Direct link to Table of Contents" translate="no">​</a></h2>
<ol>
<li class=""><a href="#overview" class="">Overview</a></li>
<li class=""><a href="#prerequisites" class="">Prerequisites</a></li>
<li class=""><a href="#configuration-reference" class="">Configuration Reference</a></li>
<li class=""><a href="#part-1-getting-the-secret-key" class="">Part 1: Getting the Secret Key</a></li>
<li class=""><a href="#part-2-creating-a-webhook-endpoint" class="">Part 2: Creating a Webhook Endpoint</a></li>
<li class=""><a href="#part-3-accessing-the-configuration-page" class="">Part 3: Accessing the Configuration Page</a></li>
<li class=""><a href="#part-4-configuring-stripe-settings" class="">Part 4: Configuring Stripe Settings</a></li>
<li class=""><a href="#part-5-configuring-user-access" class="">Part 5: Configuring User Access</a></li>
<li class=""><a href="#optional-enable-automatic-email-receipts" class="">Optional: Enable Automatic Email Receipts</a></li>
<li class=""><a href="#live-mode-setup" class="">Live Mode Setup</a></li>
<li class=""><a href="#testing-your-configuration" class="">Testing Your Configuration</a></li>
<li class=""><a href="#troubleshooting" class="">Troubleshooting</a></li>
</ol>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="overview">Overview<a href="#overview" class="hash-link" aria-label="Direct link to Overview" title="Direct link to Overview" translate="no">​</a></h2>
<p>Stripe is a payment processing service that allows customers to pay invoices securely online. When properly configured, the ABM Service Portal can:</p>
<ul>
<li class="">Generate secure payment links for customers</li>
<li class="">Process credit/debit card payments</li>
<li class="">Receive real-time payment status updates via webhooks</li>
<li class="">Track payment history and receipts</li>
</ul>
<p>This guide covers the <strong>Sandbox (test) mode</strong> setup. Sandbox mode allows you to test payments without processing real money.</p>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="prerequisites">Prerequisites<a href="#prerequisites" class="hash-link" aria-label="Direct link to Prerequisites" title="Direct link to Prerequisites" translate="no">​</a></h2>
<p>Before you begin, ensure you have:</p>
<ul>
<li class="">Access to a Stripe account (<a href="https://dashboard.stripe.com" target="_blank" rel="noopener noreferrer" class="">https://dashboard.stripe.com</a>)</li>
<li class="">Administrator access to the server where ABM Service Portal is installed</li>
<li class="">The public URL where the portal is hosted (e.g., <code>https://abm-portal.yourcompany.com</code>)</li>
</ul>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="configuration-reference">Configuration Reference<a href="#configuration-reference" class="hash-link" aria-label="Direct link to Configuration Reference" title="Direct link to Configuration Reference" translate="no">​</a></h2>
<p>Stripe configuration is managed through the <strong>Admin Dashboard</strong> in the ABM Service Portal. Navigate to <strong>App Configuration &gt; STRIPE</strong> tab to access these settings.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="field-descriptions">Field Descriptions<a href="#field-descriptions" class="hash-link" aria-label="Direct link to Field Descriptions" title="Direct link to Field Descriptions" translate="no">​</a></h3>
<table><thead><tr><th>Field</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>STRIPE Enabled</td><td>Toggle to enable/disable payment functionality</td><td>Yes</td></tr><tr><td>Secret Key</td><td>Your Stripe API secret key (starts with <code>sk_test_</code> or <code>sk_live_</code>)</td><td>Yes</td></tr><tr><td>Webhook Secret</td><td>Your webhook signing secret (starts with <code>whsec_</code>)</td><td>Yes</td></tr><tr><td>Base URL</td><td>Your portal&#x27;s public URL (see below)</td><td>Yes</td></tr><tr><td>Log Folder Path</td><td>Folder path for payment logs (optional)</td><td>No</td></tr></tbody></table>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="understanding-baseurl">Understanding <code>baseUrl</code><a href="#understanding-baseurl" class="hash-link" aria-label="Direct link to understanding-baseurl" title="Direct link to understanding-baseurl" translate="no">​</a></h3>
<p>The <code>baseUrl</code> is the public web address where your ABM Service Portal is accessible from the internet.</p>
<p><strong>Why is it needed?</strong> When a customer completes or cancels a payment on Stripe&#x27;s checkout page, Stripe needs to redirect them back to your portal. The <code>baseUrl</code> tells Stripe where to send customers after payment.</p>
<p><strong>Examples:</strong></p>
<ul>
<li class=""><code>https://abm-portal.mycompany.com</code></li>
<li class=""><code>https://portal.example.ie</code></li>
<li class=""><code>https://web-dp.tenjo.ovh</code></li>
</ul>
<p><strong>Important:</strong></p>
<ul>
<li class="">Must start with <code>https://</code></li>
<li class="">Do NOT include a trailing slash at the end</li>
<li class="">Must be accessible from the internet (not <code>localhost</code>)</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="understanding-logfolderpath">Understanding <code>logFolderPath</code><a href="#understanding-logfolderpath" class="hash-link" aria-label="Direct link to understanding-logfolderpath" title="Direct link to understanding-logfolderpath" translate="no">​</a></h3>
<p>This is an <strong>optional</strong> setting. If you want to keep daily log files of all payment activities for troubleshooting, specify a folder path.</p>
<p><strong>Examples:</strong></p>
<ul>
<li class="">Windows: <code>C:\\logs\\stripe</code></li>
<li class="">Leave empty (<code>&quot;&quot;</code>) to disable logging</li>
</ul>
<p>When enabled, the system creates daily log files like <code>stripe-2025-01-08.log</code> containing detailed payment activity records.</p>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="part-1-getting-the-secret-key">Part 1: Getting the Secret Key<a href="#part-1-getting-the-secret-key" class="hash-link" aria-label="Direct link to Part 1: Getting the Secret Key" title="Direct link to Part 1: Getting the Secret Key" translate="no">​</a></h2>
<p>The secret key allows your server to communicate with Stripe&#x27;s API.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="steps-sandbox-mode">Steps (Sandbox Mode)<a href="#steps-sandbox-mode" class="hash-link" aria-label="Direct link to Steps (Sandbox Mode)" title="Direct link to Steps (Sandbox Mode)" translate="no">​</a></h3>
<p><strong>1.</strong> Go to <a href="https://dashboard.stripe.com" target="_blank" rel="noopener noreferrer" class="">https://dashboard.stripe.com</a> and log in to your Stripe account.</p>
<p><strong>2.</strong> Confirm you are in <strong>Sandbox mode</strong> by checking for the blue &quot;Sandbox&quot; label in the top-left corner of the dashboard.</p>
<p><img decoding="async" loading="lazy" alt="Sandbox mode with API keys" src="/knowledgebase/assets/images/01-secret-key-c029b7aeb74141bb8535ffe8a4a7deeb.png" width="968" height="635" class="img_ev3q"></p>
<p><strong>3.</strong> On the dashboard, look for the <strong>&quot;API keys&quot;</strong> section on the right side of the page.</p>
<p><strong>4.</strong> Find the <strong>&quot;Secret key&quot;</strong> row. The key is hidden by default and shows as dots.</p>
<p><strong>5.</strong> Hover over the Secret key row and click the <strong>&quot;Click to copy&quot;</strong> button that appears.</p>
<p><strong>6.</strong> The key is now copied to your clipboard. It should start with <code>sk_test_</code>.</p>
<p><strong>Important:</strong> Keep this key secure. Anyone with this key can process payments on your account.</p>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="part-2-creating-a-webhook-endpoint">Part 2: Creating a Webhook Endpoint<a href="#part-2-creating-a-webhook-endpoint" class="hash-link" aria-label="Direct link to Part 2: Creating a Webhook Endpoint" title="Direct link to Part 2: Creating a Webhook Endpoint" translate="no">​</a></h2>
<p>Webhooks allow Stripe to notify your portal when payment events occur (e.g., payment completed, payment failed).</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="step-1-access-the-webhooks-section">Step 1: Access the Webhooks Section<a href="#step-1-access-the-webhooks-section" class="hash-link" aria-label="Direct link to Step 1: Access the Webhooks Section" title="Direct link to Step 1: Access the Webhooks Section" translate="no">​</a></h3>
<p><strong>1.</strong> In the Stripe Dashboard, click <strong>&quot;Developers&quot;</strong> in the bottom-left corner of the screen.</p>
<p><strong>2.</strong> A menu will expand. Click <strong>&quot;Webhooks&quot;</strong> from the list.</p>
<p><img decoding="async" loading="lazy" alt="Developers menu with Webhooks option" src="/knowledgebase/assets/images/02-developers-menu-a00a92ebda62280ed915933be312b9ac.png" width="958" height="717" class="img_ev3q"></p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="step-2-add-a-new-destination">Step 2: Add a New Destination<a href="#step-2-add-a-new-destination" class="hash-link" aria-label="Direct link to Step 2: Add a New Destination" title="Direct link to Step 2: Add a New Destination" translate="no">​</a></h3>
<p><strong>1.</strong> On the <strong>Event destinations</strong> page, click the green <strong>&quot;+ Add destination&quot;</strong> button in the top-right area.</p>
<p><img decoding="async" loading="lazy" alt="Webhooks tab with Add destination button" src="/knowledgebase/assets/images/03-webhooks-tab-ea2311816e99e566f958b679f8bf906e.png" width="958" height="723" class="img_ev3q"></p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="step-3-select-events-to-listen-for">Step 3: Select Events to Listen For<a href="#step-3-select-events-to-listen-for" class="hash-link" aria-label="Direct link to Step 3: Select Events to Listen For" title="Direct link to Step 3: Select Events to Listen For" translate="no">​</a></h3>
<p><strong>1.</strong> Under <strong>&quot;Events from&quot;</strong>, select <strong>&quot;Your account&quot;</strong> (the first option with the diagram icon).</p>
<p><strong>2.</strong> In the <strong>Events</strong> section, you&#x27;ll see a search box. Type <code>checkout</code> in the search box.</p>
<p><strong>3.</strong> Check the following 2 required events:</p>
<ul>
<li class=""><code>checkout.session.completed</code></li>
<li class=""><code>checkout.session.expired</code></li>
</ul>
<p><strong>Optional:</strong> You can also add <code>payment_intent.payment_failed</code> for explicit failure notifications, though card declines are typically handled through the checkout session flow.</p>
<p><strong>4.</strong> Click the <strong>&quot;Continue&quot;</strong> button.</p>
<p><img decoding="async" loading="lazy" alt="Event selection screen" src="/knowledgebase/assets/images/04-select-events-aa827a54987980d9b68d6a42801b5f90.png" width="699" height="891" class="img_ev3q"></p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="step-4-choose-destination-type">Step 4: Choose Destination Type<a href="#step-4-choose-destination-type" class="hash-link" aria-label="Direct link to Step 4: Choose Destination Type" title="Direct link to Step 4: Choose Destination Type" translate="no">​</a></h3>
<p><strong>1.</strong> Select <strong>&quot;Webhook endpoint&quot;</strong> (the first option - &quot;Send webhook events to a hosted endpoint&quot;).</p>
<p><strong>2.</strong> Click <strong>&quot;Continue&quot;</strong>.</p>
<p><img decoding="async" loading="lazy" alt="Destination type selection" src="/knowledgebase/assets/images/05-destination-type-4c067e879b6bd0b50b2abdbabd78543a.png" width="705" height="660" class="img_ev3q"></p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="step-5-enter-your-endpoint-url">Step 5: Enter Your Endpoint URL<a href="#step-5-enter-your-endpoint-url" class="hash-link" aria-label="Direct link to Step 5: Enter Your Endpoint URL" title="Direct link to Step 5: Enter Your Endpoint URL" translate="no">​</a></h3>
<p><strong>1.</strong> In the <strong>&quot;Endpoint URL&quot;</strong> field, enter your portal&#x27;s webhook URL.</p>
<p><strong>Format:</strong> <code>{your-baseUrl}/api/payments/webhook</code></p>
<p><strong>Example:</strong> If your portal is at <code>https://web-dp.tenjo.ovh</code>, enter:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">https://web-dp.tenjo.ovh/api/payments/webhook</span><br></span></code></pre></div></div>
<p><strong>2.</strong> The <strong>&quot;Destination name&quot;</strong> field is auto-generated - you can leave it as-is or change it.</p>
<p><strong>3.</strong> The <strong>&quot;Description&quot;</strong> field is optional.</p>
<p><strong>4.</strong> Click <strong>&quot;Create destination&quot;</strong>.</p>
<p><img decoding="async" loading="lazy" alt="Endpoint URL configuration" src="/knowledgebase/assets/images/06-endpoint-url-981fdf13f06adf1c82d97565bd11ecaf.png" width="855" height="800" class="img_ev3q"></p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="step-6-get-the-webhook-secret">Step 6: Get the Webhook Secret<a href="#step-6-get-the-webhook-secret" class="hash-link" aria-label="Direct link to Step 6: Get the Webhook Secret" title="Direct link to Step 6: Get the Webhook Secret" translate="no">​</a></h3>
<p>After creating the webhook, you&#x27;ll be taken to the destination details page.</p>
<p><strong>1.</strong> Find the <strong>&quot;Signing secret&quot;</strong> section on the right side of the page.</p>
<p><strong>2.</strong> Click the <strong>eye icon</strong> to reveal the secret.</p>
<p><img decoding="async" loading="lazy" alt="Reveal signing secret" src="/knowledgebase/assets/images/07-reveal-secret-9dbee09cbe0dc04ede2754490a256a5f.png" width="850" height="797" class="img_ev3q"></p>
<p><strong>3.</strong> Click the <strong>clipboard icon</strong> to copy the secret to your clipboard.</p>
<p><img decoding="async" loading="lazy" alt="Copy signing secret" src="/knowledgebase/assets/images/08-copy-secret-c9f368d6edde27566ea914050eb2c027.png" width="847" height="787" class="img_ev3q"></p>
<p><strong>4.</strong> The secret should start with <code>whsec_</code>. Save this value - you&#x27;ll need it for the configuration.</p>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="part-3-accessing-the-configuration-page">Part 3: Accessing the Configuration Page<a href="#part-3-accessing-the-configuration-page" class="hash-link" aria-label="Direct link to Part 3: Accessing the Configuration Page" title="Direct link to Part 3: Accessing the Configuration Page" translate="no">​</a></h2>
<p>Stripe settings are configured through the Admin Dashboard in the ABM Service Portal.</p>
<p><strong>1.</strong> Log in to the ABM Service Portal as an administrator.</p>
<p><strong>2.</strong> In the left sidebar, click <strong>App Configuration</strong>.</p>
<p><strong>3.</strong> Select the <strong>STRIPE</strong> tab at the top of the page.</p>
<p><img decoding="async" loading="lazy" alt="Admin Stripe Configuration" src="/knowledgebase/assets/images/09-admin-stripe-config-11821fc74dbfdb259aa7aa5bc97854b7.png" width="2548" height="1316" class="img_ev3q"></p>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="part-4-configuring-stripe-settings">Part 4: Configuring Stripe Settings<a href="#part-4-configuring-stripe-settings" class="hash-link" aria-label="Direct link to Part 4: Configuring Stripe Settings" title="Direct link to Part 4: Configuring Stripe Settings" translate="no">​</a></h2>
<p>Now that you have both the Secret Key and Webhook Secret, configure Stripe through the Admin Dashboard.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="basic-configuration">Basic Configuration<a href="#basic-configuration" class="hash-link" aria-label="Direct link to Basic Configuration" title="Direct link to Basic Configuration" translate="no">​</a></h3>
<p><strong>1.</strong> Toggle <strong>&quot;STRIPE Enabled&quot;</strong> to ON.</p>
<p><strong>2.</strong> Enter your <strong>Secret Key</strong> (from Part 1) - should start with <code>sk_test_</code> for sandbox or <code>sk_live_</code> for production.</p>
<p><strong>3.</strong> Enter your <strong>Webhook Secret</strong> (from Part 2) - should start with <code>whsec_</code>.</p>
<p><strong>4.</strong> Enter your <strong>Base URL</strong> - your portal&#x27;s public URL (same as used in the webhook endpoint, but without <code>/api/payments/webhook</code>).</p>
<p><strong>5.</strong> Optionally enter a <strong>Log Folder Path</strong> for payment logging (e.g., <code>C:\logs\stripe</code>).</p>
<p><strong>6.</strong> Click <strong>Save</strong>.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="custom-routines-optional">Custom Routines (Optional)<a href="#custom-routines-optional" class="hash-link" aria-label="Direct link to Custom Routines (Optional)" title="Direct link to Custom Routines (Optional)" translate="no">​</a></h3>
<p>The Custom Routines section allows scheduling automated procedures related to Stripe operations.</p>
<table><thead><tr><th>Field</th><th>Description</th></tr></thead><tbody><tr><td>Custom Routines Enabled</td><td>Toggle to enable/disable automated procedures</td></tr><tr><td>Process Interval (ms)</td><td>How often to run the routines (e.g., 60000 = 1 minute)</td></tr><tr><td>Batch Size</td><td>Number of records to process per run</td></tr><tr><td>Procedures</td><td>List of stored procedures to execute</td></tr></tbody></table>
<p><strong>Managing Procedures:</strong></p>
<ul>
<li class="">Click <strong>+ Add Procedure</strong> to add a new procedure to the list</li>
<li class="">Click the <strong>trash icon</strong> next to a procedure to remove it</li>
</ul>
<p><strong>Note:</strong> Configuration changes take effect immediately after clicking Save. No server restart is required.</p>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="part-5-configuring-user-access">Part 5: Configuring User Access<a href="#part-5-configuring-user-access" class="hash-link" aria-label="Direct link to Part 5: Configuring User Access" title="Direct link to Part 5: Configuring User Access" translate="no">​</a></h2>
<p>After enabling Stripe in the App Configuration, you need to grant payment permissions to individual users. This controls who can view and create payments.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="access-control-flags">Access Control Flags<a href="#access-control-flags" class="hash-link" aria-label="Direct link to Access Control Flags" title="Direct link to Access Control Flags" translate="no">​</a></h3>
<table><thead><tr><th>Flag</th><th>ABM Users</th><th>External Users</th></tr></thead><tbody><tr><td><strong>View Payments</strong></td><td>Shows <strong>PAYMENTS</strong> tab on customer view</td><td>Shows <strong>MY PAYMENTS</strong> tab on customer view</td></tr><tr><td><strong>Add Payments</strong></td><td>Enables <strong>Request Payment</strong> button</td><td>Enables <strong>MAKE PAYMENT</strong> button</td></tr></tbody></table>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="setting-up-user-permissions">Setting Up User Permissions<a href="#setting-up-user-permissions" class="hash-link" aria-label="Direct link to Setting Up User Permissions" title="Direct link to Setting Up User Permissions" translate="no">​</a></h3>
<p><strong>1.</strong> In the Admin Dashboard, navigate to <strong>User Management</strong>.</p>
<p><img decoding="async" loading="lazy" alt="User Management page" src="/knowledgebase/assets/images/10-user-management-44f31b7574fcc6e1e65da1f7599db811.png" width="1428" height="580" class="img_ev3q"></p>
<p><strong>2.</strong> Click on the user you want to configure.</p>
<p><strong>3.</strong> Scroll down to the <strong>User Access Control</strong> section and find <strong>Stripe Payments</strong>.</p>
<p><strong>4.</strong> Enable the desired permissions:</p>
<ul>
<li class="">Check <strong>View Payments</strong> to allow the user to see payment history</li>
<li class="">Check <strong>Add Payments</strong> to allow the user to initiate payments</li>
</ul>
<p><img decoding="async" loading="lazy" alt="User Access Control with Stripe Payments section" src="/knowledgebase/assets/images/11-user-access-control-de946823fa420a1ec178448893f1a1ab.png" width="1426" height="890" class="img_ev3q"></p>
<p><strong>5.</strong> Click <strong>SAVE</strong> to apply the changes.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="using-global-configuration-defaults">Using Global Configuration Defaults<a href="#using-global-configuration-defaults" class="hash-link" aria-label="Direct link to Using Global Configuration Defaults" title="Direct link to Using Global Configuration Defaults" translate="no">​</a></h3>
<p>To streamline user setup, you can configure default payment permissions in <strong>Global Configuration</strong>. These defaults are applied when creating new users.</p>
<p><strong>1.</strong> Navigate to <strong>Global Configuration</strong> in the Admin Dashboard.</p>
<p><strong>2.</strong> Scroll down to the <strong>User Access Control</strong> section and find <strong>Stripe Payments</strong>.</p>
<p><strong>3.</strong> Set the default values for <strong>View Payments</strong> and <strong>Add Payments</strong>.</p>
<p><strong>4.</strong> Click <strong>Save</strong>.</p>
<p><strong>Applying Defaults to a User:</strong></p>
<p>When editing a user in User Management, click the <strong>COPY FROM DEFAULTS</strong> button to copy all access control settings (including Stripe Payments) from the Global Configuration to that user.</p>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="optional-enable-automatic-email-receipts">Optional: Enable Automatic Email Receipts<a href="#optional-enable-automatic-email-receipts" class="hash-link" aria-label="Direct link to Optional: Enable Automatic Email Receipts" title="Direct link to Optional: Enable Automatic Email Receipts" translate="no">​</a></h2>
<p>Stripe can automatically send email receipts to customers after successful payments. This is an optional feature that uses the email address the customer enters during checkout.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="steps-to-enable">Steps to Enable<a href="#steps-to-enable" class="hash-link" aria-label="Direct link to Steps to Enable" title="Direct link to Steps to Enable" translate="no">​</a></h3>
<p><strong>1.</strong> In the Stripe Dashboard, click the <strong>Settings gear icon</strong> in the top-right corner.</p>
<p><img decoding="async" loading="lazy" alt="Settings gear icon in Stripe Dashboard" src="/knowledgebase/assets/images/13-settings-gear-5ef578a6a577109600920053c44e09c3.png" width="1130" height="809" class="img_ev3q"></p>
<p><strong>2.</strong> Under <strong>&quot;Account settings&quot;</strong>, click <strong>&quot;Business&quot;</strong>.</p>
<p><img decoding="async" loading="lazy" alt="Business option in Settings" src="/knowledgebase/assets/images/14-settings-business-5759b3a083c3b1233de50b8900bf941e.png" width="1129" height="821" class="img_ev3q"></p>
<p><strong>3.</strong> Click the <strong>&quot;Customer emails&quot;</strong> tab at the top of the page.</p>
<p><strong>4.</strong> Find the <strong>&quot;Successful payments&quot;</strong> toggle under the <strong>Payments</strong> section and turn it <strong>ON</strong>.</p>
<p>Alternatively, go directly to: <code>https://dashboard.stripe.com/settings/emails</code></p>
<p><img decoding="async" loading="lazy" alt="Customer emails tab with Successful payments toggle enabled" src="/knowledgebase/assets/images/15-customer-emails-toggle-90eb2571bb473dabc446de095a309c4e.png" width="1252" height="798" class="img_ev3q"></p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="what-customers-receive">What Customers Receive<a href="#what-customers-receive" class="hash-link" aria-label="Direct link to What Customers Receive" title="Direct link to What Customers Receive" translate="no">​</a></h3>
<p>When enabled, customers will automatically receive a Stripe-branded receipt email containing:</p>
<ul>
<li class="">Payment amount and date</li>
<li class="">Last 4 digits of the card used</li>
<li class="">A link to view the full receipt</li>
</ul>
<p><strong>Note:</strong> Receipts are only sent when a payment succeeds. Failed or declined transactions do not trigger receipt emails.</p>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="live-mode-setup">Live Mode Setup<a href="#live-mode-setup" class="hash-link" aria-label="Direct link to Live Mode Setup" title="Direct link to Live Mode Setup" translate="no">​</a></h2>
<p>When you&#x27;re ready to accept real payments, you&#x27;ll need to configure Live mode. The steps are <strong>identical</strong> to Sandbox mode with these key differences:</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="switching-to-live-mode">Switching to Live Mode<a href="#switching-to-live-mode" class="hash-link" aria-label="Direct link to Switching to Live Mode" title="Direct link to Switching to Live Mode" translate="no">​</a></h3>
<p><strong>1.</strong> In the Stripe Dashboard, click the <strong>&quot;Switch to live account&quot;</strong> button in the top-right corner (orange button).</p>
<p><strong>2.</strong> You&#x27;ll now see &quot;Live mode&quot; instead of &quot;Sandbox&quot; in the top-left.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="important-differences">Important Differences<a href="#important-differences" class="hash-link" aria-label="Direct link to Important Differences" title="Direct link to Important Differences" translate="no">​</a></h3>
<table><thead><tr><th>Aspect</th><th>Sandbox Mode</th><th>Live Mode</th></tr></thead><tbody><tr><td>Key prefix</td><td><code>sk_test_</code></td><td><code>sk_live_</code></td></tr><tr><td>Webhook prefix</td><td><code>whsec_</code> (same)</td><td><code>whsec_</code> (same)</td></tr><tr><td>Secret key reveal</td><td>Can reveal multiple times</td><td><strong>Can only reveal ONCE</strong></td></tr><tr><td>Payments</td><td>Test/simulated</td><td>Real money</td></tr></tbody></table>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="live-mode-checklist">Live Mode Checklist<a href="#live-mode-checklist" class="hash-link" aria-label="Direct link to Live Mode Checklist" title="Direct link to Live Mode Checklist" translate="no">​</a></h3>
<ul class="contains-task-list containsTaskList_mC6p">
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Click &quot;Switch to live account&quot; in Stripe Dashboard</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Copy the Live secret key (starts with <code>sk_live_</code>)</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Create a <strong>new</strong> webhook endpoint for Live mode</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Copy the Live webhook signing secret</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Update the Admin Dashboard (<strong>App Configuration &gt; STRIPE</strong>) with Live mode values</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Verify settings are saved</li>
</ul>
<p><strong>Warning:</strong> In Live mode, the secret key can only be revealed <strong>once</strong>. Copy it immediately and store it securely. If you lose it, you&#x27;ll need to create a new key.</p>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="testing-your-configuration">Testing Your Configuration<a href="#testing-your-configuration" class="hash-link" aria-label="Direct link to Testing Your Configuration" title="Direct link to Testing Your Configuration" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="test-in-sandbox-mode-first">Test in Sandbox Mode First<a href="#test-in-sandbox-mode-first" class="hash-link" aria-label="Direct link to Test in Sandbox Mode First" title="Direct link to Test in Sandbox Mode First" translate="no">​</a></h3>
<p>Before going live, always test your configuration in Sandbox mode.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="test-card-numbers">Test Card Numbers<a href="#test-card-numbers" class="hash-link" aria-label="Direct link to Test Card Numbers" title="Direct link to Test Card Numbers" translate="no">​</a></h3>
<p>Use these card numbers in Sandbox mode (any future expiry date and any 3-digit CVC):</p>
<table><thead><tr><th>Card Number</th><th>Result</th></tr></thead><tbody><tr><td><code>4242 4242 4242 4242</code></td><td>Successful payment</td></tr><tr><td><code>4000 0000 0000 0002</code></td><td>Card declined</td></tr><tr><td><code>4000 0000 0000 9995</code></td><td>Insufficient funds</td></tr></tbody></table>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="verify-webhook-is-working">Verify Webhook is Working<a href="#verify-webhook-is-working" class="hash-link" aria-label="Direct link to Verify Webhook is Working" title="Direct link to Verify Webhook is Working" translate="no">​</a></h3>
<p><strong>1.</strong> In Stripe Dashboard, go to <strong>Developers &gt; Webhooks</strong>.</p>
<p><strong>2.</strong> Click on your webhook endpoint.</p>
<p><strong>3.</strong> Check the <strong>&quot;Event deliveries&quot;</strong> tab to see if events are being received.</p>
<p><strong>4.</strong> A successful delivery shows a green checkmark with status <code>200</code>.</p>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="troubleshooting">Troubleshooting<a href="#troubleshooting" class="hash-link" aria-label="Direct link to Troubleshooting" title="Direct link to Troubleshooting" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="common-issues">Common Issues<a href="#common-issues" class="hash-link" aria-label="Direct link to Common Issues" title="Direct link to Common Issues" translate="no">​</a></h3>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="payments-are-not-enabled">&quot;Payments are not enabled&quot;<a href="#payments-are-not-enabled" class="hash-link" aria-label="Direct link to &quot;Payments are not enabled&quot;" title="Direct link to &quot;Payments are not enabled&quot;" translate="no">​</a></h4>
<ul>
<li class="">Verify that <strong>STRIPE Enabled</strong> is toggled ON in <strong>App Configuration &gt; STRIPE</strong></li>
<li class="">Ensure the configuration was saved successfully</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="webhook-signature-verification-failed">&quot;Webhook signature verification failed&quot;<a href="#webhook-signature-verification-failed" class="hash-link" aria-label="Direct link to &quot;Webhook signature verification failed&quot;" title="Direct link to &quot;Webhook signature verification failed&quot;" translate="no">​</a></h4>
<ul>
<li class="">Ensure the <strong>Webhook Secret</strong> is correct (starts with <code>whsec_</code>)</li>
<li class="">Make sure you copied the complete secret without extra spaces</li>
<li class="">Verify you&#x27;re using the secret from the correct webhook endpoint</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="payment-redirect-not-working">&quot;Payment redirect not working&quot;<a href="#payment-redirect-not-working" class="hash-link" aria-label="Direct link to &quot;Payment redirect not working&quot;" title="Direct link to &quot;Payment redirect not working&quot;" translate="no">​</a></h4>
<ul>
<li class="">Check that <strong>Base URL</strong> is correct and accessible from the internet</li>
<li class="">Ensure the URL uses <code>https://</code> (not <code>http://</code>)</li>
<li class="">Verify there&#x27;s no trailing slash at the end</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="webhook-events-not-being-received">&quot;Webhook events not being received&quot;<a href="#webhook-events-not-being-received" class="hash-link" aria-label="Direct link to &quot;Webhook events not being received&quot;" title="Direct link to &quot;Webhook events not being received&quot;" translate="no">​</a></h4>
<ul>
<li class="">Check the webhook endpoint URL is correct: <code>{baseUrl}/api/payments/webhook</code></li>
<li class="">Ensure your server is accessible from the internet</li>
<li class="">Check the Events tab in Stripe for delivery errors</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="checking-logs">Checking Logs<a href="#checking-logs" class="hash-link" aria-label="Direct link to Checking Logs" title="Direct link to Checking Logs" translate="no">​</a></h3>
<p>If <code>logFolderPath</code> is configured:</p>
<p><strong>1.</strong> Navigate to the log folder (e.g., <code>C:\logs\stripe</code>)</p>
<p><strong>2.</strong> Open the latest log file (e.g., <code>stripe-2025-01-08.log</code>)</p>
<p><strong>3.</strong> Look for error messages or failed operations</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="getting-help">Getting Help<a href="#getting-help" class="hash-link" aria-label="Direct link to Getting Help" title="Direct link to Getting Help" translate="no">​</a></h3>
<p>If you continue to experience issues:</p>
<ol>
<li class="">Check the Stripe Dashboard for error messages</li>
<li class="">Review server logs for detailed error information</li>
<li class="">Contact your system administrator or development team</li>
</ol>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="quick-reference">Quick Reference<a href="#quick-reference" class="hash-link" aria-label="Direct link to Quick Reference" title="Direct link to Quick Reference" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="configuration-location">Configuration Location<a href="#configuration-location" class="hash-link" aria-label="Direct link to Configuration Location" title="Direct link to Configuration Location" translate="no">​</a></h3>
<p><strong>Admin Dashboard &gt; App Configuration &gt; STRIPE tab</strong></p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="required-settings-sandbox-example">Required Settings (Sandbox Example)<a href="#required-settings-sandbox-example" class="hash-link" aria-label="Direct link to Required Settings (Sandbox Example)" title="Direct link to Required Settings (Sandbox Example)" translate="no">​</a></h3>
<table><thead><tr><th>Setting</th><th>Example Value</th></tr></thead><tbody><tr><td>STRIPE Enabled</td><td>ON</td></tr><tr><td>Secret Key</td><td><code>sk_test_51SmVtFRAJLu09FXE...</code></td></tr><tr><td>Webhook Secret</td><td><code>whsec_NUUVDBRiBKwgqLKqujQXfiy...</code></td></tr><tr><td>Base URL</td><td><code>https://web-dp.tenjo.ovh</code></td></tr><tr><td>Log Folder Path</td><td><code>C:\logs\stripe</code> (optional)</td></tr></tbody></table>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="webhook-endpoint-url-format">Webhook Endpoint URL Format<a href="#webhook-endpoint-url-format" class="hash-link" aria-label="Direct link to Webhook Endpoint URL Format" title="Direct link to Webhook Endpoint URL Format" translate="no">​</a></h3>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">https://{your-domain}/api/payments/webhook</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="required-webhook-events">Required Webhook Events<a href="#required-webhook-events" class="hash-link" aria-label="Direct link to Required Webhook Events" title="Direct link to Required Webhook Events" translate="no">​</a></h3>
<ul>
<li class=""><code>checkout.session.completed</code></li>
<li class=""><code>checkout.session.expired</code></li>
</ul>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="related-documentation">Related Documentation<a href="#related-documentation" class="hash-link" aria-label="Direct link to Related Documentation" title="Direct link to Related Documentation" translate="no">​</a></h2>
<ul>
<li class=""><a class="" href="/knowledgebase/1.1/stripe-integration/developer-access">Developer Access Guide</a> - Guide for clients to invite developers</li>
<li class=""><a class="" href="/knowledgebase/1.1/stripe-integration/production-checklist">Production Checklist</a> - Production migration checklist</li>
<li class=""><a class="" href="/knowledgebase/1.1/stripe-integration/user-guide">User Guide</a> - End user guide</li>
</ul></div></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/knowledgebase/1.1/stripe-integration/user-guide"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">User Guide</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/knowledgebase/1.1/stripe-integration/developer-access"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Developer Access Guide</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#table-of-contents" class="table-of-contents__link toc-highlight">Table of Contents</a></li><li><a href="#overview" class="table-of-contents__link toc-highlight">Overview</a></li><li><a href="#prerequisites" class="table-of-contents__link toc-highlight">Prerequisites</a></li><li><a href="#configuration-reference" class="table-of-contents__link toc-highlight">Configuration Reference</a><ul><li><a href="#field-descriptions" class="table-of-contents__link toc-highlight">Field Descriptions</a></li><li><a href="#understanding-baseurl" class="table-of-contents__link toc-highlight">Understanding <code>baseUrl</code></a></li><li><a href="#understanding-logfolderpath" class="table-of-contents__link toc-highlight">Understanding <code>logFolderPath</code></a></li></ul></li><li><a href="#part-1-getting-the-secret-key" class="table-of-contents__link toc-highlight">Part 1: Getting the Secret Key</a><ul><li><a href="#steps-sandbox-mode" class="table-of-contents__link toc-highlight">Steps (Sandbox Mode)</a></li></ul></li><li><a href="#part-2-creating-a-webhook-endpoint" class="table-of-contents__link toc-highlight">Part 2: Creating a Webhook Endpoint</a><ul><li><a href="#step-1-access-the-webhooks-section" class="table-of-contents__link toc-highlight">Step 1: Access the Webhooks Section</a></li><li><a href="#step-2-add-a-new-destination" class="table-of-contents__link toc-highlight">Step 2: Add a New Destination</a></li><li><a href="#step-3-select-events-to-listen-for" class="table-of-contents__link toc-highlight">Step 3: Select Events to Listen For</a></li><li><a href="#step-4-choose-destination-type" class="table-of-contents__link toc-highlight">Step 4: Choose Destination Type</a></li><li><a href="#step-5-enter-your-endpoint-url" class="table-of-contents__link toc-highlight">Step 5: Enter Your Endpoint URL</a></li><li><a href="#step-6-get-the-webhook-secret" class="table-of-contents__link toc-highlight">Step 6: Get the Webhook Secret</a></li></ul></li><li><a href="#part-3-accessing-the-configuration-page" class="table-of-contents__link toc-highlight">Part 3: Accessing the Configuration Page</a></li><li><a href="#part-4-configuring-stripe-settings" class="table-of-contents__link toc-highlight">Part 4: Configuring Stripe Settings</a><ul><li><a href="#basic-configuration" class="table-of-contents__link toc-highlight">Basic Configuration</a></li><li><a href="#custom-routines-optional" class="table-of-contents__link toc-highlight">Custom Routines (Optional)</a></li></ul></li><li><a href="#part-5-configuring-user-access" class="table-of-contents__link toc-highlight">Part 5: Configuring User Access</a><ul><li><a href="#access-control-flags" class="table-of-contents__link toc-highlight">Access Control Flags</a></li><li><a href="#setting-up-user-permissions" class="table-of-contents__link toc-highlight">Setting Up User Permissions</a></li><li><a href="#using-global-configuration-defaults" class="table-of-contents__link toc-highlight">Using Global Configuration Defaults</a></li></ul></li><li><a href="#optional-enable-automatic-email-receipts" class="table-of-contents__link toc-highlight">Optional: Enable Automatic Email Receipts</a><ul><li><a href="#steps-to-enable" class="table-of-contents__link toc-highlight">Steps to Enable</a></li><li><a href="#what-customers-receive" class="table-of-contents__link toc-highlight">What Customers Receive</a></li></ul></li><li><a href="#live-mode-setup" class="table-of-contents__link toc-highlight">Live Mode Setup</a><ul><li><a href="#switching-to-live-mode" class="table-of-contents__link toc-highlight">Switching to Live Mode</a></li><li><a href="#important-differences" class="table-of-contents__link toc-highlight">Important Differences</a></li><li><a href="#live-mode-checklist" class="table-of-contents__link toc-highlight">Live Mode Checklist</a></li></ul></li><li><a href="#testing-your-configuration" class="table-of-contents__link toc-highlight">Testing Your Configuration</a><ul><li><a href="#test-in-sandbox-mode-first" class="table-of-contents__link toc-highlight">Test in Sandbox Mode First</a></li><li><a href="#test-card-numbers" class="table-of-contents__link toc-highlight">Test Card Numbers</a></li><li><a href="#verify-webhook-is-working" class="table-of-contents__link toc-highlight">Verify Webhook is Working</a></li></ul></li><li><a href="#troubleshooting" class="table-of-contents__link toc-highlight">Troubleshooting</a><ul><li><a href="#common-issues" class="table-of-contents__link toc-highlight">Common Issues</a></li><li><a href="#checking-logs" class="table-of-contents__link toc-highlight">Checking Logs</a></li><li><a href="#getting-help" class="table-of-contents__link toc-highlight">Getting Help</a></li></ul></li><li><a href="#quick-reference" class="table-of-contents__link toc-highlight">Quick Reference</a><ul><li><a href="#configuration-location" class="table-of-contents__link toc-highlight">Configuration Location</a></li><li><a href="#required-settings-sandbox-example" class="table-of-contents__link toc-highlight">Required Settings (Sandbox Example)</a></li><li><a href="#webhook-endpoint-url-format" class="table-of-contents__link toc-highlight">Webhook Endpoint URL Format</a></li><li><a href="#required-webhook-events" class="table-of-contents__link toc-highlight">Required Webhook Events</a></li></ul></li><li><a href="#related-documentation" class="table-of-contents__link toc-highlight">Related Documentation</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Documentation</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/knowledgebase/getting-started/initial-setup">Getting Started</a></li><li class="footer__item"><a class="footer__link-item" href="/knowledgebase/installation/overview">Installation</a></li><li class="footer__item"><a class="footer__link-item" href="/knowledgebase/stripe-integration/overview">Stripe Integration</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2026 DP Systems. Built with Docusaurus.</div></div></div></footer><button class="fab_chuo" aria-label="Open Ask Dermot chat"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path></svg><span class="fabText_rLZ2">Ask Dermot</span></button></div>
</body>
</html>