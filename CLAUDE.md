# CLAUDE.md

This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.

## Project Overview

DP Systems Knowledge Base - a documentation website built with Docusaurus 3.9.2, hosted on GitHub Pages at https://dpsystems-dev.github.io/knowledgebase/

## Commands

```bash
npm install          # Install dependencies
npm run start        # Dev server at http://localhost:3000
npm run build        # Production build to /build directory
npm run typecheck    # TypeScript type checking
npm run clear        # Clear Docusaurus cache
```

Deployment is automatic via GitHub Actions when pushing to `master` branch.

## Architecture

### Multi-Product Documentation Structure

The site uses Docusaurus's multi-docs plugin pattern to support multiple product documentation sections:

- **General docs** (`docs/`) - Uses default preset, routes to `/docs/`
- **Product docs** (`products/<product-name>/`) - Each product is a separate `@docusaurus/plugin-content-docs` instance with its own sidebar file

### Adding a New Product

1. Create folder: `products/<product-name>/`
2. Add entry point: `description.md` (required - serves as the product's landing page)
3. Create sidebar: `sidebars<ProductName>.ts` (use autogenerated pattern: `{type: 'autogenerated', dirName: '.'}`)
4. Register plugin in `docusaurus.config.ts` with unique `id`, `path`, `routeBasePath`, and `sidebarPath`
5. Add navbar item referencing `docId: 'description'` and matching `docsPluginId`

### Key Configuration

- `docusaurus.config.ts` - Main config: site metadata, plugins, navbar, footer
- `sidebars*.ts` - Sidebar configurations (one per documentation section)
- `src/css/custom.css` - Brand styling (green theme: `#1b5e20`)
- `src/pages/index.tsx` - Homepage with product cards

### Content Features

- Mermaid diagrams supported in markdown (enabled via `@docusaurus/theme-mermaid`)
- MDX for React components in markdown
- Images go in section-specific folders (e.g., `products/abm-web-portal/installation/screenshots/`)
